FROM node:20-alpine

# Set working directory
WORKDIR /app

# Accept build argument for API URL
ARG REACT_APP_API_URL=http://localhost:8000/api
ENV REACT_APP_API_URL=$REACT_APP_API_URL

# Install dependencies (will be cached if package.json doesn't change)
COPY package*.json ./
RUN npm install

# Expose port 3000 for React dev server
EXPOSE 3000

# Start React development server with hot reload
CMD ["npm", "start"]
